<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Copilot Training â€“ Clean Working Version</title>
  <style>
    body { margin:0; font-family:Arial, sans-serif; background:#f4f4f4; }
    body.dark { background:#222; color:#eee; }

    #toc { position:fixed; top:0; left:0; width:240px; height:100vh; overflow-y:auto; background:#fff; border-right:1px solid #ccc; padding:20px; }
    body.dark #toc { background:#333; border-right-color:#555; }
    #toc a { display:block; margin-bottom:10px; text-decoration:none; color:inherit; }
    #toc a.active { font-weight:bold; text-decoration:underline; }

    #main { margin-left:260px; padding:20px; }

    .slide { display:none; opacity:0; transition:opacity .5s; }
    .slide.active { display:block; opacity:1; }

    .controls { margin-top:20px; text-align:center; }
    button { padding:10px 20px; margin:5px; border:none; border-radius:6px; cursor:pointer; }

    .progress-dots { text-align:center; margin-top:10px; }
    .dot { width:12px; height:12px; border-radius:50%; background:#888; display:inline-block; margin:4px; cursor:pointer; }
    .dot.active { background:#000; }
    body.dark .dot.active { background:#fff; }

    .quiz-question { margin-top:15px; padding:15px; background:#eaeaea; border-radius:8px; }
    body.dark .quiz-question { background:#444; }
    .quiz-feedback { margin-top:10px; font-weight:bold; }

    #overview { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,.8); color:#fff; overflow-y:auto; padding:40px; }
    .overview-item { background:#333; padding:20px; margin:20px; border-radius:8px; cursor:pointer; }
  </style>
</head>
<body>

<div id="toc"></div>

<div id="main">
  <div id="slides"></div>

  <!-- Controls removed as requested -->

  <div id="dots" class="progress-dots"></div>
</div>

<div id="overview"></div>

<script>
document.addEventListener("DOMContentLoaded", () => {

  const slideData = [
    { title: "Welcome", content: `<p>Welcome to the clean Copilot training slideshow.</p>` },
    { title: "Overview", content: `<p>This course introduces Copilot for Microsoft 365.</p>` },
    {
      title: "Quiz",
      content: `
        <p>Which Copilot works in Microsoft 365 apps?</p>
        <div class='quiz-question'>
          <label><input type='radio' name='q1' value='wrong'> GitHub Copilot</label><br>
          <label><input type='radio' name='q1' value='correct'> Copilot for Microsoft 365</label><br>
          <label><input type='radio' name='q1' value='wrong'> Copilot Pro (personal)</label>
          <div id='q1-feedback' class='quiz-feedback'></div>
        </div>
      `,
      quiz: { name: "q1", correct: "correct", feedbackId: "q1-feedback" }
    }
  ];

  const slides = document.getElementById("slides");
  const toc = document.getElementById("toc");
  const dots = document.getElementById("dots");
  const overview = document.getElementById("overview");
  let current = 0;

  slideData.forEach((s, i) => {
    const div = document.createElement("div");
    div.className = "slide";
    div.id = "slide-" + i;
    div.innerHTML = `<h2>${s.title}</h2>${s.content}`;
    slides.appendChild(div);

    const tocItem = document.createElement("a");
    tocItem.textContent = s.title;
    tocItem.href = "#";
    tocItem.onclick = () => showSlide(i);
    tocItem.id = "toc-" + i;
    toc.appendChild(tocItem);

    const d = document.createElement("span");
    d.className = "dot";
    d.id = "dot-" + i;
    d.onclick = () => showSlide(i);
    dots.appendChild(d);
  });

  function showSlide(i) {
    document.querySelectorAll('.slide').forEach(s => s.classList.remove('active'));
    document.getElementById('slide-' + i).classList.add('active');
    current = i;

    document.querySelectorAll('#toc a').forEach(a => a.classList.remove('active'));
    document.getElementById('toc-' + i).classList.add('active');

    document.querySelectorAll('.dot').forEach(d => d.classList.remove('active'));
    document.getElementById('dot-' + i).classList.add('active');
  }

  window.nextSlide = () => { if (current < slideData.length - 1) showSlide(current + 1); };
  window.prevSlide = () => { if (current > 0) showSlide(current - 1); };
  window.toggleDarkMode = () => document.body.classList.toggle('dark');

  window.toggleOverview = () => {
    if (overview.style.display === "block") {
      overview.style.display = "none";
      return;
    }
    overview.innerHTML = "";
    slideData.forEach((s, i) => {
      const div = document.createElement("div");
      div.className = "overview-item";
      div.innerHTML = `<h3>${s.title}</h3><p>${s.content.substring(0,80)}...</p>`;
      div.onclick = () => { overview.style.display = "none"; showSlide(i); };
      overview.appendChild(div);
    });
    overview.style.display = "block";
  };

  slides.addEventListener('change', e => {
    const slide = slideData[current];
    if (!slide.quiz) return;
    const q = slide.quiz;
    if (e.target.name === q.name) {
      const fb = document.getElementById(q.feedbackId);
      fb.textContent = e.target.value === q.correct ? "Correct!" : "Incorrect.";
      fb.style.color = e.target.value === q.correct ? "green" : "red";
    }
  });

  showSlide(0);
});
</script>

</body>
</html>
